@* navigating to this component requires you to pass in a root directory through the url *@
@page "/meddy-explorer/{*rootDir}"
@using MeddyExplorerApp.Services;
@inject MeddyExplorerState meddyExplorerState

<AppBar OnToggleDrawerClickedEvent="@(() => meddyExplorerState.DrawerOpen = !meddyExplorerState.DrawerOpen)" />
<NavMenuDrawer DrawerOpen="@meddyExplorerState.DrawerOpen" />



<MEACurrentDirTextField />
<MEACurrentDirFilesGrid />

@* Details Panel *@
<MudDrawer Anchor="@Anchor.End" ClipMode="@DrawerClipMode.Docked" Open="true">
    <MEAFileDetails />
</MudDrawer>

@code
{
    [Parameter, EditorRequired]
    public string rootDir { get; set; }

    protected override void OnInitialized()
    {
        meddyExplorerState.Initialize(rootDir);
    }
}
