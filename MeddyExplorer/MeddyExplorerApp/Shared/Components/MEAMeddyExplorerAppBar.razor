@using MeddyExplorerApp.Services;
@inject MeddyExplorerState meddyExplorerState

<MudAppBar Dense="true" Color="@Color.Transparent" Elevation="0">
    <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="@Color.Inherit" Edge="@Edge.Start" OnClick="@(() => OnToggleDrawerClickedEvent.InvokeAsync())" />
    <MudIconButton Size="@Size.Small" Icon="@Icons.Material.Filled.KeyboardArrowLeft" OnClick="@OnBackButtonClick" />
    <MudIconButton Size="@Size.Small" Icon="@Icons.Material.Filled.KeyboardArrowRight" OnClick="@OnForwardButtonClick" />
    <MudIconButton Size="@Size.Small" Icon="@Icons.Material.Filled.ArrowUpward" OnClick="@OnUpButtonClick" />
    <MudText Typo="@Typo.subtitle2">
        Meddy Explorer
    </MudText>
    <MudSpacer />
    <!-- End buttons -->
    <MudIconButton Size="@Size.Small" Icon="@Icons.Material.Filled.Minimize" OnClick="@OnMinimizeButtonClick" />
    @if (!isMaximized)
    {
        <MudIconButton Size="@Size.Small" Icon="@Icons.Material.Filled.Maximize" OnClick="@OnMaximizeButtonClick" />
    }
    else
    {
        <MudIconButton Size="@Size.Small" Icon="@Icons.Material.Filled.Restore" OnClick="@OnRestoreDownButtonClick" />
    }
    <MudIconButton Size="@Size.Small" Icon="@Icons.Material.Filled.Close" OnClick="@OnCloseButtonClick" Edge="@Edge.End" /> <!-- use Edge.End to align the icon (instead of the outer button) to the end edge -->
</MudAppBar>

@code
{
    [Parameter]
    public EventCallback OnToggleDrawerClickedEvent { get; set; }

    public bool isMaximized { get; set; }
    private void OnUpButtonClick()
    {
        meddyExplorerState.CurrentDir = meddyExplorerState.CurrentDir.Parent;
    }
    private void OnBackButtonClick()
    {
        
    }
    private void OnForwardButtonClick()
    {
        
    }
    private void OnCloseButtonClick()
    {
        
    }
    private void OnMaximizeButtonClick()
    {
        
    }
    private void OnRestoreDownButtonClick()
    {
        
    }
    private void OnMinimizeButtonClick()
    {
        
    }
}
